<div class="session">
  <h1 class="headline headline_white">Регистрация</h1>
  <div class="session__content">
    <mat-card>
      <mat-progress-bar class="loader loader_absolute" *ngIf="!form || isLoading" mode="indeterminate"></mat-progress-bar>
      <mat-card-content>
        <form [formGroup]="form" class="form" (ngSubmit)="onSubmit()">
          <mat-form-field>
            <input formControlName="email" matInput placeholder="e-mail">
          </mat-form-field>

          <mat-form-field>
            <input formControlName="password" matInput type="password" placeholder="password">
          </mat-form-field>

          <mat-form-field>
            <input formControlName="passwordConfirmation" matInput type="password" placeholder="password confirmation">
          </mat-form-field>

          <mat-error *ngIf="invalidForm" class="form__error mat-text-warn text-center">
            Пользователь с таким email уже существует
          </mat-error>

          <mat-error 
            *ngIf="form.controls.password.errors?.minlength && form.controls.password.touched"
            class="form__error mat-text-warn text-center">
            Минимальный пароль 6 символов
          </mat-error>

          <mat-error 
            *ngIf="form.controls.passwordConfirmation.errors?.MatchPassword && form.controls.passwordConfirmation.touched"
            class="form__error mat-text-warn text-center">
            Пароли не совпадают
          </mat-error>

          <button mat-raised-button color="primary" type="submit" class="form__submit-btn">Войти</button>
          <a class="session__redirect-link" [routerLink]="['/session/signin']">Перейти на страницу авторизации</a>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
