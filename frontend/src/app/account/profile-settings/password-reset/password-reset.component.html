<mat-card class="settings__card settings__password-reset">
  <mat-progress-bar class="loader loader_absolute" *ngIf="!form || isLoading" mode="indeterminate"></mat-progress-bar>
  <mat-card-title>Обновить пароль</mat-card-title>
  <mat-card-content>
    <form [formGroup]="form" class="form" (ngSubmit)="resetPassword()">
      <mat-form-field>
        <input formControlName="oldPassword" matInput type="password" placeholder="Старый пароль">
      </mat-form-field>

      <mat-form-field>
        <input formControlName="password" matInput type="password" placeholder="Новый пароль">
      </mat-form-field>

      <mat-form-field>
        <input formControlName="passwordConfirmation" matInput type="password" placeholder="Подтверждение пароля">
      </mat-form-field>

      <mat-error 
        *ngIf="form.controls.passwordConfirmation.errors?.MatchPassword && form.controls.passwordConfirmation.touched"
        class="form__error mat-text-warn">
        Пароли не совпадают
      </mat-error>

      <mat-error 
        *ngIf="form.controls.password.errors?.minlength && form.controls.password.touched"
        class="form__error mat-text-warn">
        Минимальная длина пароля 6 символов
      </mat-error>

      <mat-error 
        *ngIf="isInvalidPassword"
        class="form__error mat-text-warn">
        Неправильный старый пароль
      </mat-error>

      <mat-error 
        *ngIf="form.controls.oldPassword.errors?.equal && form.controls.oldPassword.touched && form.controls.password.touched"
        class="form__error mat-text-warn">
        Новый пароль должен отличаться от старого
      </mat-error>

      <div>
        <button mat-raised-button class="form__btn-submit" color="primary" type="submit">Сохранить</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>